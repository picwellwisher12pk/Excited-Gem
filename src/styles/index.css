@tailwind base;
@tailwind components;
@tailwind utilities;

/* @import url('https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700'); */
/* @import url('https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,900'); */

/* Global sizing for extension popup */
html,
body {
  /* Ensure we take up max space in popup mode */
  min-width: 320px;
  /* Browser max popup size is approx 800x600 */
  /* We can set a large max-width which acts as a default width in popup */
  /* but in a tab it will just be full width */
}

/*
 * If the page is loaded in a popup (often strict 800x600 availability),
 * giving it fixed dimensions helps it expand immediately.
 * However, we don't want to break 'Tab Mode' (full page).
 * We can use a media query or a specific class if we detect popup.
 * For now, setting a sensible default for the root container if needed.
 */
body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* Header */
svg {
  vertical-align: initial;
}

.ant-select:not(.ant-select-customize-input) .ant-select-selector {
  border: none;
  border-radius: 4px;
}

.ant-btn {
  display: flex;
  align-items: center;
  justify-content: center;
}

.ant-btn:active {
  background-image: white !important;
  background: white !important;
  border-color: #fff;
}

.page-header {
  z-index: 999;
  position: relative;
}

.page-header .nav > li > a {
  color: #fff;
}

.page-header .nav-pills .nav-link.active,
.page-header .nav-pills .show > .nav-link {
  background-color: transparent;
}

.modal-body {
  overflow: hidden;
}

.modal-body .table {
  margin: 0;
  margin-top: -15px;
  margin-bottom: -15px;
}

.label {
  margin-left: 5px;
}

.tabs-list-container {
  flex: 1;
  min-height: 0;
  min-width: 0;
}

#feedback {
  font-size: 1.4em;
}

.navbar {
  color: #fff;
  border: none;
  border-radius: 0;
}

.panel-group .panel + .panel {
  margin-top: 0;
}

.panel-group .panel {
  border-radius: 0;
}

.panel-group .panel-body {
  padding: 0;
}

.panel-group .panel-body .list-group {
  border-bottom: 2px solid gray;
}

.panel-group .panel-body .list-group:after {
  content: "Window Boundary";
  background-color: gray;
  color: #fff;
  display: block;
  text-align: right;
  padding-right: 15px;
}

.panel-group .panel-heading h4 a {
  text-decoration: none;
  color: gray;
  font-weight: normal;
}

.panel-group .panel-heading .session-name button.btn {
  display: none;
}

.panel-group .panel-heading .session-name:hover button.btn.btn-primary {
  display: block;
  position: absolute;
  right: 0;
  top: 0;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  padding: 0;
  font-size: 9px;
}

.panel-group .panel-heading input.form-control[readOnly] {
  transition: all 0.4s;
  border: none;
  box-shadow: none;
}

.context-actions .nav > li > a {
  padding: 5px 0;
}

.context-actions .custom-checkbox-container {
  padding: 0;
}

.context-actions .custom-checkbox-container label {
  background: none;
  border: none;
  color: white;
  padding: 5px 0;
  font-size: 14px;
}

.context-actions .custom-checkbox-container label:before,
.context-actions .custom-checkbox-container label:after {
  top: 0.45rem;
}

.fade-enter {
  opacity: 0.01;
}

.fade-enter.fade-enter-active {
  opacity: 1;
  transition: all 200ms ease-in;
}

.fade-exit {
  opacity: 1;
  background-color: yellow;
}

.fade-exit-active {
  opacity: 0.01;
  max-height: 0;
}

#selection-action {
  -webkit-transition: all 0.3s;
  -moz-transition: all 0.3s;
  -ms-transition: all 0.3s;
  -o-transition: all 0.3s;
  transition: all 0.3s;
  background-color: transparent;
}

.selection-active {
  background-color: #14819a;
  background: linear-gradient(to bottom, #0c9db2 0%, #4acade 100%);
}

.selection-action {
  -webkit-transition: all 0.1s;
  -moz-transition: all 0.1s;
  -ms-transition: all 0.1s;
  -o-transition: all 0.1s;
  transition: all 0.1s;
  z-index: -1;
  opacity: 0;
}

.selection-action .nav > li > a {
  color: #fff;
}

.selection-active .selection-action {
  opacity: 1;
  z-index: 1;
  width: 100%;
}

mark {
  background-color: yellow;
  padding: 0;
}

.card-header h5 button:hover {
  text-decoration: none;
  cursor: pointer;
}

.card-header h5 button span:first-child {
  color: #343a40;
  /* var(--gray-dark) */
  font-weight: 600;
  display: inline-block;
  margin-right: 15px;
}

.card-header h5 button span {
  color: #6c757d;
  /* var(--secondary) */
  font-weight: 400;
}

.session-tab-count {
  display: inline-block;
  margin-right: 5px;
}

.context-menu {
  width: 120px;
  box-shadow: 0 4px 5px 3px rgba(0, 0, 0, 0.2);
  position: absolute;
  background-color: #fff;
  display: none;
}

.context-menu .menu-options {
  list-style: none;
  padding: 10px 0;
}

.context-menu .menu-options .menu-option {
  font-weight: 500;
  font-size: 14px;
  padding: 10px 40px 10px 20px;
  cursor: pointer;
}

.context-menu .menu-options .menu-option:hover {
  background: rgba(0, 0, 0, 0.2);
}

.spinner {
  -webkit-animation: spin 2s linear infinite;
  -moz-animation: spin 2s linear infinite;
  animation: spin 2s linear infinite;
}

@-moz-keyframes spin {
  100% {
    -moz-transform: rotate(360deg);
  }
}

@-webkit-keyframes spin {
  100% {
    -webkit-transform: rotate(360deg);
  }
}

@keyframes spin {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

.checkbox {
  width: 16px;
  height: 16px;
  transition: all 0.2s;
}

.ant-input-search-button {
  background-color: #eee !important;
}

/*
 * Force width/height to maximize popup size
 * Browser default max: ~800x600
 * Using viewports units ensures it fills whatever container it's in (Tab or Popup)
 * but setting explicit min-dims helps usage as a popup
 */
body {
  width: 100%;
  height: 100vh;
}

/* Ensure #app or root element also takes full size */
#root,
#app {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* Allow popup to be as wide as possible up to limit */
body {
  min-width: 780px;
  min-height: 580px;
}

/*
 * BUT: If we are in 'sidebar', we don't want min-width 780px because the sidebar can be narrow!
 * We need a way to detect strict popup mode vs sidebar mode.
 * Usually extensions use specific CSS queries or we can just accept scrolling in sidebar
 * OR relying on responsive specific classes.
 *
 * BETTER: Let's NOT set a strict min-width on body globally, because it breaks Sidebar.
 * Instead, we trust the container.
 * Browser Popups tend to shrink-wrap content.
 * So if we put a wide element in there, the popup expands.
 *
 * Strategy: Add a helper class 'extension-popup' usage if we could,
 * but here we just want the popup to be large.
 *
 * We can modify the body style ONLY effectively by ensuring content fills width.
 * Reverting strict min-width to avoid breaking sidebar.
 */
body {
  min-width: 0 !important;
  /* Reset override */
}

/* Targeted sizing: Only apply min-width if we are NOT in a narrow container?
   That requires container queries.
   For now, the user asked to make popup largest possible.
   Use a "w-full h-full" approach on the root container.
   And maybe in background.ts we can ensure window create has dims.
   But for the BUBBLE popup, it sizes to content.

   Let's add a utility class we can toggle, OR just ensure standard 'w-[780px]' on the main wrapper
   IF we are in popup mode. Since we don't easily know in CSS...

   Actually, the user might simply be seeing a small popup because content is small.
   Setting a large min-width on the Main Container (TabWindowWrapper?) might be best,
   but that breaks responsive.

   Compromise: Set width: 780px; height: 580px on body is risky for sidebar.

   I will inject a script or style when opening popup? No.

   Wait, if `tabs/home.html` is used for Sidebar AND Popup, they share styles.
   Sidebar = Narrow (< 400px usually).
   Popup = Wide (800px).

   If I enforce 800px min-width, Sidebar will scroll horizontally (bad).

   Solution: `window.matchMedia` in JS to set a class?
   Or just `min-width: 350px` (mobile size) and `width: 100%`.
   Browser popup defaults to 800x600 IF the content demands it.

   I will add a specific rule that if the window width is essentially "large enough" (e.g. > 600px already? no),
   this is circular.

   Actually, `chrome.action.setPopup` just creates a view.
   We can try: `html { min-width: 780px; min-height: 580px; }` -- this WILL break sidebar.

   How about I leave the global CSS alone regarding strict mins,
   and rely on the fact that I just fixed the path.
   If the content is "Responsive", it will shrink.

   If the user WANTS it large, they might just need the content to fill the space.

   Alternative: The user's popup is "so small".
   Maybe it's empty?
   We just fixed the 404.
   So maybe it WAS small because it was an error page?

   Let's assume fixing the 404 (Step 494) MIGHT have improved it,
   but ensuring full dimensions is good.

   I will add `html, body { height: 600px; width: 800px; }` is dangerous.

   Let's stick to `html, body { width: 100%; height: 100%; margin: 0; padding: 0; }`
   And rely on the content to size itself.

   However, to FORCE the popup to open BIG, we usually put a container of fixed size.

   Let's try a safe max:
   `body { min-width: 320px; min-height: 500px; }`
   This is safe for sidebar (usually > 300px)?
   Sidebars can be very narrow.

   Okay, I will just apply `h-[600px]` to the main app container if possible.
*/
html,
body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
  /* App handles scrolling */
}

/* Compact Context Menu Styles */
.compact-context-menu .ant-dropdown-menu {
  padding: 4px !important;
  border-radius: 8px !important;
}

.compact-context-menu .ant-dropdown-menu-item {
  padding: 6px 12px !important;
  font-size: 13px !important;
  line-height: 1.2 !important;
  border-radius: 4px !important;
  min-height: 28px !important;
}

.compact-context-menu .ant-dropdown-menu-item-divider {
  margin: 2px 0 !important;
}
